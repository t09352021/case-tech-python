import requests
import json

#Criacao de classe para requisitar API
class GetApi():
  def __init__(self,link):
    self.request=request.get(link)
    self.data=json.loads(self.request.content)
    self.dados_ident=json.dumps(self.data,ident=4)

#Criacao da classe minha lista com construtor de classe
class Minha_lista_Netflix:
  def __init__(self):
    self.filme=[]

  #Metodo de adicionar filme à lista
  def adicionar(self):
    self.append(filme)
  
  #Metodo de remover filme da lista
  def remover(self):
    self.pop(filme)

  
  #Metodo para fazer leitura do conteudo da lista
  def leitura(self):
    self.print(filme)


  #Metodo para atualizar titulos em idioma original
  def atualizar(self):
    informacoes['filme']=filme['orginal_title']
    self.filme = informacoes
    print(self.filme)
  
  
  #Metodo para contar quantos itens tem a lista
  def contar(self):
    self.contar = len(Minha_lista_Netflix)
    print("Há %d filmes nesta lista lista",self.contar)

  
  #Metodo para ordernar lista
  def ordenar(self):
    self.sort(Minha_Lista_netflix)
    print("",self.sort(Minha_Lista_netflix))

if __name__ == "__main__":
  api = GetApi("https://ghibliapi.herokuapp.com/films")
  Bruna = Minha_Lista_Netflix()

  api_tratados = []
  for filmes in api.dados:
    informacoes={}
    informacoes['filme']=filme['title']
    informacoes['descricao']=filme['description']
    informacoes['direcao']=filme['direction']
    informacoes['duracao']=filme['running_time']
    informacoes['ano']=filme['realese_date']  

    Bruna.MInha_Lista_Netflix.adicionar("Meu amigo totoro")
    Bruna.leitura(Minha_lista_Netflix)
